{% extends 'base.html' %}
{% block content %}
<div class="date-container">
	<h1>{{ MP }}</h1>
            </div>
            <div class="table-header-verwaltung">
                <div class="button-group">
                        <a href=" {{ url_for('main.liste', mbPT='MB')  }}  "><button class="rounded-button1">Mitarbeiter</button></a>
                        <a href=" {{ url_for('main.liste', mbPT='PT')  }}  "><button class="rounded-button2">Patient</button></a>
                </div>
                <!--<div class="search-box">
                    <input type="text" class="search-box-text" placeholder="Suchen...">
                </div>-->
                <div class="dropdown">
                    <button class="dropdown-button">Edit</button>
                    <div class="dropdown-content">
			    <a href="{{ url_for('main.anmeldenMB') }}">Anmeldung Mitarbeiter</a>
                            <a href="{{ url_for('main.anmeldenPT') }}">Anmeldung Patient</a>
                    </div>
                </div>
            </div>

            <table class="verwaltung-table">
                <thead>
                    <tr>
			<th>ID</th>
                        <th>VorName</th>
                        <th>NachName</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in result[:10] %}
                    <tr>
                        <tr>
                            <td>{{ item[0] }}</td>
                            <td>{{ item[1] }}</td>
                            <td>{{ item[2] }}</td>
			    <td><a href="{{ url_for('main.confirm', ID=item[0], mbPT=MP)  }}"><button class="entfernen-button">Entfernen</button></a></td> 
                            <!--<td>{{ item[2] }}<br><button class="entfernen-button" onclick="window.location.href='confirmation.html'">Entfernen</button></td>-->
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
 <div class="pfeil-buttons">
    <button id="prevButton" class="pfeil-buttonL" onclick="showPrevRows()">◀</button>
    <button id="nextButton" class="pfeil-buttonR" onclick="showNextRows()">▶</button>
</div>
</div>

<script>
    var table = document.getElementById("verwaltung-table");
    var tableBody = document.getElementById("table-body");
    var prevButton = document.getElementById("prevButton");
    var nextButton = document.getElementById("nextButton");

    var startIndex = 0;
    var endIndex = 9;
    var numRows = {{ result|length }};

    function showRows(start, end) {
        for (var i = 0; i < numRows; i++) {
            if (i >= start && i <= end) {
                table.rows[i + 1].style.display = "table-row";
            } else {
                table.rows[i + 1].style.display = "none";
            }
        }
    }

    function showPrevRows() {
        if (startIndex > 0) {
            startIndex -= 10;
            endIndex -= 10;
            showRows(startIndex, endIndex);
            nextButton.disabled = false;
        }

        if (startIndex === 0) {
            prevButton.disabled = true;
        }
    }

    function showNextRows() {
        if (endIndex < numRows - 1) {
            startIndex += 10;
            endIndex += 10;
            showRows(startIndex, endIndex);
            prevButton.disabled = false;
        }

        if (endIndex === numRows - 1) {
            nextButton.disabled = true;
        }
    }

    showPrevRows(); // Initially hide the previous button on page load
</script>

{% endblock %}